{% extends "base.html" %}

{% block title %}í‘œí˜„ í€´ì¦ˆ - ë¼ì´í”„ ì‹œë®¬ë ˆì´ì…˜{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8 offset-lg-2">
        <!-- í—¤ë” -->
        <div class="card mb-4">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">
                    <i class="fas fa-brain me-2"></i>í‘œí˜„ í€´ì¦ˆ - ì˜ˆë¬¸ìœ¼ë¡œ í‘œí˜„ ë§íˆê¸°
                </h4>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-6">
                        <h6 class="text-muted mb-2">í˜„ì¬ ê²½í—˜ì¹˜</h6>
                        <h3 class="text-success">{{ player.ê²½í—˜ì¹˜ }} / {{ player.ê²½í—˜ì¹˜ìµœëŒ€ }}</h3>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-muted mb-2">í˜„ì¬ ë ˆë²¨</h6>
                        <h3 class="text-info">{{ player.ë ˆë²¨ }}</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- í€´ì¦ˆ ì˜ì—­ -->
        <div class="card">
            <div class="card-body p-5">
                <!-- ì˜ˆë¬¸ (ë¬¸ì œ) -->
                <div class="mb-5">
                    <h5 class="text-muted mb-3">
                        <i class="fas fa-book me-2"></i>ë‹¤ìŒ ì˜ˆë¬¸ì—ì„œ ì‚¬ìš©ëœ í‘œí˜„ì€?
                    </h5>
                    <div class="alert alert-info" style="font-size: 1.2rem; font-weight: 500; min-height: 60px; display: flex; align-items: center; padding: 20px; border-radius: 8px;">
                        "{{ quiz.example }}"
                    </div>
                </div>

                <!-- ì„ íƒì§€ -->
                <form method="POST" action="{{ url_for('submit_expression_quiz') }}" class="mb-4">
                    <input type="hidden" name="correct" value="{{ quiz.correct_expression }}">
                    
                    <div class="mb-4">
                        <h6 class="text-muted mb-3">
                            <i class="fas fa-list me-2"></i>ë³´ê¸° ì„ íƒ (ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”)
                        </h6>
                        <div style="display: grid; gap: 10px;">
                            {% for option in quiz.options %}
                            <label style="cursor: pointer; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; transition: all 0.3s; margin-bottom: 0;">
                                <input type="radio" name="choice" value="{{ option }}" required 
                                       style="cursor: pointer; margin-right: 10px;" 
                                       onchange="this.parentElement.style.borderColor='#4f46e5'; this.parentElement.style.backgroundColor='#f3f4ff'">
                                <span style="font-size: 1.1rem; font-weight: 500;">{{ option }}</span>
                            </label>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="fas fa-check me-2"></i>ë‹µ ì œì¶œ (ê²½í—˜ì¹˜ +10)
                        </button>
                    </div>
                </form>

                <!-- ì •ë‹µ í‘œí˜„ ì •ë³´ (ì„ íƒì‚¬í•­ - í•™ìŠµ í›„ ë³´ê¸°) -->
                <div class="alert alert-light border mt-5" style="margin-bottom: 0;">
                    <h6 class="text-muted mb-3">ğŸ’¡ ì •ë‹µ í‘œí˜„ ì •ë³´</h6>
                    <div>
                        <p class="mb-2">
                            <strong>í‘œí˜„:</strong> 
                            <span style="font-size: 1.1rem; color: #059669;">{{ quiz.correct_expression }}</span>
                        </p>
                        <p class="mb-0">
                            <strong>ì˜ë¯¸:</strong> 
                            <span style="color: #555;">{{ quiz.correct_meaning }}</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë‹¤ë¥¸ í™œë™ ë§í¬ -->
        <div class="mt-4 text-center">
            <a href="{{ url_for('daily_expressions') }}" class="btn btn-outline-primary me-2">
                <i class="fas fa-list me-1"></i>í‘œí˜„ ëª©ë¡
            </a>
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">
                <i class="fas fa-home me-1"></i>ëŒ€ì‹œë³´ë“œ
            </a>
        </div>
    </div>
</div>

<style>
label:hover {
    border-color: #4f46e5 !important;
    background-color: #f9fafb !important;
}
</style>
{% endblock %}
